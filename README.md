**Задача:**

*Разработать скрипт для выгрузки списка хостов с ошибками в формате csv для работы на регулярной основе (каждый день). Хосты только с активными, не закрытыми проблемами.
Оформление скрипта на свое усмотрение согласно внутреннему видению и опыту.
Формат выгрузки: hostid, host, name, errors*

**Решение:**

*1) запрашиваются все хосты, которые включены и не находятся на maitenance*

*2) для каждого хоста запрашивается список проблем. Получаем список objectid для триггеров*

*3) Проверяем, если триггер от проблемы выключен, то не учитываем его*

*4) Составляем структуру хостов с их проблемами, заполняем ее*

*5) Парсим структуру в csv файлик*

Для удобства добавил таймер выполнения скрипта и статистику.
Конфиг файлик создал, чтоб выгрузить на гитхаб и не хранить секреты в коде.
Делать ключи для бинарника и писать логирование не стал, потому что по срокам уже не успевал.

Тестировал на версиях zabbix api 6.0.38 и 6.4.6.



